#!/usr/bin/env node
"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var findUp=require("find-up"),fs_1=__importDefault(require("fs")),chalk=require("chalk"),globby=require("globby"),pkg=require("../package.json"),configPath=findUp.sync([".file-lint",".file-lint.json",".file-lintrc",".file-lintrc.json","file-lint","file-lint.json","file-lintrc","file-lintrc.json"]),config=configPath?JSON.parse(fs_1.default.readFileSync(configPath).toString("utf8")):{};require("yargs").option("recursive",{alias:"r",default:!1}).pkgConf("file-lint").config(config).command("$0","the default command",function(e){},function(e){var r=e.regex,n=e.recursive;if("object"!=typeof r)throw new TypeError("Regex values must be of type object");var i=Object.keys(r).map(function(e){var i=r[e];if("string"!=typeof(i&&e))throw new TypeError("regexAssersion and dirName values must be of type string");return{dirName:e,results:globby.sync([e],{deep:!!n}).map(function(e){var r=new RegExp(i).test(e.split("/")[1]);return{fileName:e.split("/")[1],passed:r}})}});console.log(chalk.green("file-lint [v"+pkg.version+"]:\n")),i.forEach(function(e){var r=e.dirName,i=e.results;console.log(chalk.yellow(r+"/")),i.forEach(function(e){var r=e.fileName,i=e.passed;console.log(chalk.green("  "+r+" "+(i?"✓":"✗")))})})}).argv;